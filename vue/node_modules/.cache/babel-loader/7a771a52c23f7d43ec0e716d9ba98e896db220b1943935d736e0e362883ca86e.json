{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"Register\",\n  data() {\n    return {\n      form: {\n        username: \"\",\n        password: \"\",\n        confirmPass: \"\",\n        role: \"STUDENT\",\n        // 默认角色为学生\n        roleLabel: \"学生\" // 初始角色名称\n      },\n      rules: {\n        username: [{\n          required: true,\n          message: \"请输入账号\",\n          trigger: \"blur\"\n        }],\n        password: [{\n          required: true,\n          message: \"请输入密码\",\n          trigger: \"blur\"\n        }],\n        confirmPass: [{\n          validator: this.validatePassword,\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n  methods: {\n    // 验证确认密码是否一致\n    validatePassword(rule, value, callback) {\n      if (value === \"\") {\n        callback(new Error(\"请确认密码\"));\n      } else if (value !== this.form.password) {\n        callback(new Error(\"两次输入的密码不一致\"));\n      } else {\n        callback();\n      }\n    },\n    // 角色选择时更新角色\n    selectRole(role) {\n      this.form.role = role;\n      this.form.roleLabel = role === \"ADMIN\" ? \"管理员\" : role === \"TEACHER\" ? \"教师\" : \"学生\";\n    },\n    register() {\n      this.$refs[\"formRef\"].validate(valid => {\n        if (valid) {\n          this.$request.post(\"/register\", this.form).then(res => {\n            if (res.code === \"200\") {\n              this.$router.push(\"/login\"); // 跳转到登录页面\n              this.$message.success(\"注册成功\");\n            } else {\n              this.$message.error(res.msg);\n            }\n          });\n        }\n      });\n    }\n  }\n};","map":{"version":3,"names":["name","data","form","username","password","confirmPass","role","roleLabel","rules","required","message","trigger","validator","validatePassword","methods","rule","value","callback","Error","selectRole","register","$refs","validate","valid","$request","post","then","res","code","$router","push","$message","success","error","msg"],"sources":["src/views/Register.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"register-card\">\r\n      <div class=\"title\">欢迎注册</div>\r\n      <el-form :model=\"form\" :rules=\"rules\" ref=\"formRef\">\r\n        <el-form-item prop=\"username\">\r\n          <el-input prefix-icon=\"el-icon-user\" placeholder=\"请输入账号\" v-model=\"form.username\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"password\">\r\n          <el-input prefix-icon=\"el-icon-lock\" placeholder=\"请输入密码\" show-password v-model=\"form.password\"></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"confirmPass\">\r\n          <el-input prefix-icon=\"el-icon-lock\" placeholder=\"请确认密码\" show-password v-model=\"form.confirmPass\"></el-input>\r\n        </el-form-item>\r\n        <!-- 修改角色选择为按钮形式 -->\r\n        <el-form-item>\r\n          <el-popover trigger=\"click\" placement=\"bottom\" width=\"200\">\r\n            <el-button slot=\"reference\" style=\"width: 100%\">{{ form.roleLabel }}</el-button>\r\n            <el-radio-group v-model=\"form.role\" style=\"width: 100%\">\r\n              <el-radio label=\"ADMIN\">管理员</el-radio>\r\n              <el-radio label=\"TEACHER\">教师</el-radio>\r\n              <el-radio label=\"STUDENT\">学生</el-radio>\r\n            </el-radio-group>\r\n          </el-popover>\r\n        </el-form-item>\r\n        <el-form-item>\r\n          <el-button\r\n              class=\"register-btn\"\r\n              style=\"width: 100%\"\r\n              @click=\"register\"\r\n          >\r\n            注 册\r\n          </el-button>\r\n        </el-form-item>\r\n        <div class=\"footer\">\r\n          已有账号？请 <a href=\"/login\">登录</a>\r\n        </div>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  name: \"Register\",\r\n  data() {\r\n    return {\r\n      form: {\r\n        username: \"\",\r\n        password: \"\",\r\n        confirmPass: \"\",\r\n        role: \"STUDENT\", // 默认角色为学生\r\n        roleLabel: \"学生\", // 初始角色名称\r\n      },\r\n      rules: {\r\n        username: [{ required: true, message: \"请输入账号\", trigger: \"blur\" }],\r\n        password: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }],\r\n        confirmPass: [{ validator: this.validatePassword, trigger: \"blur\" }],\r\n      },\r\n    };\r\n  },\r\n  methods: {\r\n    // 验证确认密码是否一致\r\n    validatePassword(rule, value, callback) {\r\n      if (value === \"\") {\r\n        callback(new Error(\"请确认密码\"));\r\n      } else if (value !== this.form.password) {\r\n        callback(new Error(\"两次输入的密码不一致\"));\r\n      } else {\r\n        callback();\r\n      }\r\n    },\r\n    // 角色选择时更新角色\r\n    selectRole(role) {\r\n      this.form.role = role;\r\n      this.form.roleLabel = role === \"ADMIN\" ? \"管理员\" : role === \"TEACHER\" ? \"教师\" : \"学生\";\r\n    },\r\n    register() {\r\n      this.$refs[\"formRef\"].validate((valid) => {\r\n        if (valid) {\r\n          this.$request.post(\"/register\", this.form).then((res) => {\r\n            if (res.code === \"200\") {\r\n              this.$router.push(\"/login\"); // 跳转到登录页面\r\n              this.$message.success(\"注册成功\");\r\n            } else {\r\n              this.$message.error(res.msg);\r\n            }\r\n          });\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.container {\r\n  height: 100vh;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background: linear-gradient(135deg, #74b9ff, #a29bfe);\r\n}\r\n\r\n.register-card {\r\n  width: 400px;\r\n  padding: 30px;\r\n  background: white;\r\n  border-radius: 15px;\r\n  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.title {\r\n  font-size: 22px;\r\n  font-weight: bold;\r\n  margin-bottom: 20px;\r\n  color: #333;\r\n  text-align: center;\r\n  font-family: \"Helvetica Neue\", Arial, sans-serif;\r\n}\r\n\r\n.el-input {\r\n  font-size: 14px;\r\n}\r\n\r\n.el-select {\r\n  font-size: 14px;\r\n}\r\n\r\n.register-btn {\r\n  background: #0984e3;\r\n  border-color: #0984e3;\r\n  color: white;\r\n  transition: all 0.3s;\r\n}\r\n\r\n.register-btn:hover {\r\n  background: #74b9ff;\r\n  border-color: #74b9ff;\r\n  color: white;\r\n}\r\n\r\n.footer {\r\n  text-align: center;\r\n  margin-top: 10px;\r\n  font-size: 13px;\r\n  color: #666;\r\n}\r\n\r\n.footer a {\r\n  color: #2d9cdb;\r\n  text-decoration: none;\r\n  font-weight: bold;\r\n}\r\n\r\n.footer a:hover {\r\n  text-decoration: underline;\r\n}\r\n</style>\r\n"],"mappings":";AA0CA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA;QACAC,QAAA;QACAC,QAAA;QACAC,WAAA;QACAC,IAAA;QAAA;QACAC,SAAA;MACA;MACAC,KAAA;QACAL,QAAA;UAAAM,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAP,QAAA;UAAAK,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;QACAN,WAAA;UAAAO,SAAA,OAAAC,gBAAA;UAAAF,OAAA;QAAA;MACA;IACA;EACA;EACAG,OAAA;IACA;IACAD,iBAAAE,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA,IAAAD,KAAA;QACAC,QAAA,KAAAC,KAAA;MACA,WAAAF,KAAA,UAAAd,IAAA,CAAAE,QAAA;QACAa,QAAA,KAAAC,KAAA;MACA;QACAD,QAAA;MACA;IACA;IACA;IACAE,WAAAb,IAAA;MACA,KAAAJ,IAAA,CAAAI,IAAA,GAAAA,IAAA;MACA,KAAAJ,IAAA,CAAAK,SAAA,GAAAD,IAAA,uBAAAA,IAAA;IACA;IACAc,SAAA;MACA,KAAAC,KAAA,YAAAC,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA,KAAAC,QAAA,CAAAC,IAAA,mBAAAvB,IAAA,EAAAwB,IAAA,CAAAC,GAAA;YACA,IAAAA,GAAA,CAAAC,IAAA;cACA,KAAAC,OAAA,CAAAC,IAAA;cACA,KAAAC,QAAA,CAAAC,OAAA;YACA;cACA,KAAAD,QAAA,CAAAE,KAAA,CAAAN,GAAA,CAAAO,GAAA;YACA;UACA;QACA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}